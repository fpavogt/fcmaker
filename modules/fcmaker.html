

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>fcmaker package &mdash; fcmaker 0.3.5 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="fcmaker 0.3.5 documentation" href="../index.html"/>
        <link rel="up" title="The functions of fcmaker" href="modules.html"/>
        <link rel="next" title="FAQ" href="../faq.html"/>
        <link rel="prev" title="The functions of fcmaker" href="modules.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> fcmaker
          

          
          </a>

          
            
            
              <div class="version">
                0.3.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running.html">Usage instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/gallery.html">Gallery</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">The functions of fcmaker</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">fcmaker package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-fcmaker.fcmaker">fcmaker.fcmaker module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-fcmaker.fcmaker_hawki">fcmaker.fcmaker_hawki module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-fcmaker.fcmaker_instrument_dispatch">fcmaker.fcmaker_instrument_dispatch module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-fcmaker.fcmaker_metadata">fcmaker.fcmaker_metadata module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-fcmaker.fcmaker_muse">fcmaker.fcmaker_muse module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-fcmaker.fcmaker_plots">fcmaker.fcmaker_plots module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-fcmaker.fcmaker_tools">fcmaker.fcmaker_tools module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-fcmaker.fcmaker_xshooter">fcmaker.fcmaker_xshooter module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-fcmaker">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog </a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledge.html">Acknowledging fcmaker</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">fcmaker</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">The functions of fcmaker</a> &raquo;</li>
        
      <li>fcmaker package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/modules/fcmaker.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="fcmaker-package">
<h1>fcmaker package<a class="headerlink" href="#fcmaker-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-fcmaker.fcmaker">
<span id="fcmaker-fcmaker-module"></span><h2>fcmaker.fcmaker module<a class="headerlink" href="#module-fcmaker.fcmaker" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="fcmaker.fcmaker.make_fc">
<code class="descclassname">fcmaker.fcmaker.</code><code class="descname">make_fc</code><span class="sig-paren">(</span><em>p2uid=None</em>, <em>pswd=None</em>, <em>obids=[]</em>, <em>bk_images=[]</em>, <em>bk_lams=[]</em>, <em>data_loc='./fcm_data'</em>, <em>plot_loc='./fcm_plots'</em>, <em>do_pdf=True</em>, <em>do_png=False</em>, <em>no_upload=False</em>, <em>systemtex=False</em>, <em>montage=False</em>, <em>clear_SkyView_cache=False</em>, <em>obsdate=None</em>, <em>do_parang=False</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker.make_fc" title="Permalink to this definition">¶</a></dt>
<dd><p>The main fcmaker function, to create finding charts from p2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>p2uid</strong> – string. P2 user ID (will prompt if is None)</li>
<li><strong>pswd</strong> – string. P2 user password (will prompt if is None)</li>
<li><strong>obids</strong> – list of int. List of the P2 OB ID for which to generate finding charts</li>
<li><strong>bk_images</strong> – list of string. Specify the FC background: SkyView survey name, None for default, or local FITS filename</li>
<li><strong>bk_lams</strong> – list of string. Specify the wavelength of the background charts. None to read from FITS header.</li>
<li><strong>data_loc</strong> – string. Relative path to the background images (local FITS files or SkyView images).</li>
<li><strong>plot_loc</strong> – string. Relative path to the background images (local FITS files or SkyView images).</li>
<li><strong>do_pdf</strong> – bool. Save a local PDF file ?</li>
<li><strong>do_png</strong> – bool. Save a local png file ?</li>
<li><strong>no_upload</strong> – bool. Skip the upload of finding charts to p2 ?</li>
<li><strong>systemtex</strong> – bool. Use the system Latex instead of the Python latex ?</li>
<li><strong>montage</strong> – bool. Use of Montage to rotate the fields with North up ?</li>
<li><strong>clear_SkyView_cache</strong> – bool. Clear the SkyView cache ?</li>
<li><strong>obsdate</strong> – string. Year (Month, Day, Hour, Minute, …) of the observation</li>
<li><strong>do_parang</strong> – bool. Show the instrument field-of-view when a parallactic angle is required ?</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker.make_fc_local">
<code class="descclassname">fcmaker.fcmaker.</code><code class="descname">make_fc_local</code><span class="sig-paren">(</span><em>f</em>, <em>do_pdf=True</em>, <em>do_png=False</em>, <em>systemtex=False</em>, <em>montage=True</em>, <em>clear_SkyView_cache=False</em>, <em>obsdate=None</em>, <em>do_parang=False</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker.make_fc_local" title="Permalink to this definition">¶</a></dt>
<dd><p>The other fcmaker function, to create finding charts from a local file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>f</strong> – an open file, e.g. _io.TextIOWrapper from open(filename)</li>
<li><strong>do_pdf</strong> – bool. Save a local PDF file ?</li>
<li><strong>do_png</strong> – bool. Save a local png file ?</li>
<li><strong>systemtex</strong> – bool. Use the system Latex instead of the Python latex ?</li>
<li><strong>montage</strong> – bool. Use of Montage to rotate the fields with North up ?</li>
<li><strong>clear_SkyView_cache</strong> – bool. Clear the SkyView cache ?</li>
<li><strong>obsdate</strong> – string. Year (Month, Day, Hour, Minute, …) of the observation</li>
<li><strong>do_parang</strong> – bool. Show the instrument field-of-view when a parallactic angle is required ?</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker.set_fcmaker">
<code class="descclassname">fcmaker.fcmaker.</code><code class="descname">set_fcmaker</code><span class="sig-paren">(</span><em>systemtex</em>, <em>montage</em>, <em>clear_SkyView_cache</em>, <em>data_loc</em>, <em>plot_loc</em>, <em>do_parang</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker.set_fcmaker" title="Permalink to this definition">¶</a></dt>
<dd><p>A function that sets the generic options of fcmaker.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>no_systemtex</strong> – bool. True = use Python LaTex. False = System LaTeX.</li>
<li><strong>no_montage</strong> – bool. True = do NOT use Montage.</li>
<li><strong>clear_SkyView_cache</strong> – bool. True = clear the cache.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker.set_obsdate">
<code class="descclassname">fcmaker.fcmaker.</code><code class="descname">set_obsdate</code><span class="sig-paren">(</span><em>obsdate</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker.set_obsdate" title="Permalink to this definition">¶</a></dt>
<dd><p>A function that sets the obsdate parameter inside fcmaker.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obsdate</strong> – string. The observing time (and date) for the OB. Should be parsable by dateutils.parser.parse(). None = now.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker.set_systemtex">
<code class="descclassname">fcmaker.fcmaker.</code><code class="descname">set_systemtex</code><span class="sig-paren">(</span><em>systemtex</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker.set_systemtex" title="Permalink to this definition">¶</a></dt>
<dd><p>A function that sets whether fcmaker uses the default system LateX, or not.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>no_systemtex</strong> – bool. True = use Python LaTex. False = System LaTeX.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-fcmaker.fcmaker_hawki">
<span id="fcmaker-fcmaker-hawki-module"></span><h2>fcmaker.fcmaker_hawki module<a class="headerlink" href="#module-fcmaker.fcmaker_hawki" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="fcmaker.fcmaker_hawki.detector_to_sky">
<code class="descclassname">fcmaker.fcmaker_hawki.</code><code class="descname">detector_to_sky</code><span class="sig-paren">(</span><em>dx</em>, <em>dy</em>, <em>pa</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_hawki.detector_to_sky" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts HAWKI offsets from the DETECTOR reference frame to the SKY reference frame.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dx</strong> (<em>float</em>) – offset in arcsec</li>
<li><strong>dy</strong> (<em>float</em>) – offset in arcsec</li>
<li><strong>pa</strong> (<em>float</em>) – current position angle in degrees measured East-of-North (MUSE convention)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the (dra,ddec) offsets in SKY convention.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple of floats</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">According to the MUSE User manual, “when in DETECTOR framework, if both telescope
offsets and PA offsets are provided, the telescope offsets are sent (first) with
respect to the current PA of the instrument, before applying the PA offset.”</p>
</div>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_hawki.get_fields_dict">
<code class="descclassname">fcmaker.fcmaker_hawki.</code><code class="descname">get_fields_dict</code><span class="sig-paren">(</span><em>fc_params</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_hawki.get_fields_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dictionnary with the basic info required to draw the fields, given
certain OB parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fc_params</strong> – A dictionnary containing the MUSE OB parameters</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionary containing the plotting parameters for each field.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_hawki.get_localfcdata_hawki">
<code class="descclassname">fcmaker.fcmaker_hawki.</code><code class="descname">get_localfcdata_hawki</code><span class="sig-paren">(</span><em>fc_params</em>, <em>inpars</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_hawki.get_localfcdata_hawki" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts all the important info to build a finding chart from a given MUSE OB defined
locally.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>inpars</strong> – A dictionnary containing the OB parameters</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionnary containing the MUSE OB parameters</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_hawki.get_p2fcdata_hawki">
<code class="descclassname">fcmaker.fcmaker_hawki.</code><code class="descname">get_p2fcdata_hawki</code><span class="sig-paren">(</span><em>ob</em>, <em>api</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_hawki.get_p2fcdata_hawki" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts all the important info to build a finding chart from a given HAWKI OB from p2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ob</strong> – an api.getOB() object</li>
<li><strong>api</strong> – a p2api.ApiConnection() object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dictionnary containing the OB parameters</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_hawki.get_polygon">
<code class="descclassname">fcmaker.fcmaker_hawki.</code><code class="descname">get_polygon</code><span class="sig-paren">(</span><em>central_coord</em>, <em>pa</em>, <em>nx</em>, <em>ny</em>, <em>startx</em>, <em>starty</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_hawki.get_polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the central location and position of a field, build a polygon to feed to
matplotlib down the line.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>central_coord</strong> – an astropy.SkyCoord entry with the center of the MUSE field</li>
<li><strong>pa</strong> – the position angle of the field (p2 convention)</li>
<li><strong>startx</strong><strong>, </strong><strong>starty</strong> (<em>nx</em><em>,</em><em>ny</em><em>,</em>) – the Fast Phot windowing parameters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of 2-D coordinates for each corner of the field-of-view.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="data">
<dt id="fcmaker.fcmaker_hawki.hawki_templates">
<code class="descclassname">fcmaker.fcmaker_hawki.</code><code class="descname">hawki_templates</code><em class="property"> = ['HAWKI_img_acq_Preset', 'HAWKI_img_acq_PresetRRM', 'HAWKI_img_acq_MoveToPixel', 'HAWKI_img_acq_FastPhot', 'HAWKI_img_acq_FastPhotRRM', 'HAWKI_img_obs_GenericOffset', 'HAWKI_img_obs_AutoJitter', 'HAWKI_img_acq_LGS_Preset', 'HAWKI_img_acq_LGS_PresetRRM', 'HAWKI_img_acq_LGS_MoveToPixel', 'HAWKI_img_acq_LGS_FastPhot']</em><a class="headerlink" href="#fcmaker.fcmaker_hawki.hawki_templates" title="Permalink to this definition">¶</a></dt>
<dd><p>List all the supported HAWKI observing templates (incl. Fast Phot)</p>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_hawki.plot_field">
<code class="descclassname">fcmaker.fcmaker_hawki.</code><code class="descname">plot_field</code><span class="sig-paren">(</span><em>ax1</em>, <em>ax2</em>, <em>fc_params</em>, <em>field</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_hawki.plot_field" title="Permalink to this definition">¶</a></dt>
<dd><p>The specific HAWKI function that draws a specific observation field.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ax1</strong><strong>,</strong><strong>ax2</strong> – the left and right plots ‘axis’</li>
<li><strong>fc_params</strong> – the dictionnary of parameters for the OB</li>
<li><strong>field</strong> – the specific field list of parameters</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-fcmaker.fcmaker_instrument_dispatch">
<span id="fcmaker-fcmaker-instrument-dispatch-module"></span><h2>fcmaker.fcmaker_instrument_dispatch module<a class="headerlink" href="#module-fcmaker.fcmaker_instrument_dispatch" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="fcmaker.fcmaker_instrument_dispatch.get_GS_outer_radius">
<code class="descclassname">fcmaker.fcmaker_instrument_dispatch.</code><code class="descname">get_GS_outer_radius</code><span class="sig-paren">(</span><em>fc_params</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_instrument_dispatch.get_GS_outer_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the outer search radius for different instruments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fc_params</strong> – the parameters of the finding charts (a dictionary)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the radius in arcsec.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">radius</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_instrument_dispatch.get_bk_image">
<code class="descclassname">fcmaker.fcmaker_instrument_dispatch.</code><code class="descname">get_bk_image</code><span class="sig-paren">(</span><em>fc_params</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_instrument_dispatch.get_bk_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the default SkyView survey name for all supported instruments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fc_params</strong> – the parameters of the finding chart (a dictionnary)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The survey name as a string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_instrument_dispatch.get_chart_center">
<code class="descclassname">fcmaker.fcmaker_instrument_dispatch.</code><code class="descname">get_chart_center</code><span class="sig-paren">(</span><em>fc_params</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_instrument_dispatch.get_chart_center" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the center of the right and left plots for different instruments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fc_params</strong> – the parameters of the finding charts (a dictionary)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a tuple with the chart center as a SkyCoord value.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">(left_center, right_center)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_instrument_dispatch.get_chart_radius">
<code class="descclassname">fcmaker.fcmaker_instrument_dispatch.</code><code class="descname">get_chart_radius</code><span class="sig-paren">(</span><em>fc_params</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_instrument_dispatch.get_chart_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the radius of the right and left plots for different instruments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fc_params</strong> – the parameters of the finding charts (a dictionary)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a tuple with the chart radius in arcsec.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">(<a class="reference internal" href="#fcmaker.fcmaker_muse.left_radius" title="fcmaker.fcmaker_muse.left_radius">left_radius</a>, right_radius)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_instrument_dispatch.get_fields_dict">
<code class="descclassname">fcmaker.fcmaker_instrument_dispatch.</code><code class="descname">get_fields_dict</code><span class="sig-paren">(</span><em>fc_params</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_instrument_dispatch.get_fields_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the dictionnary of the field plotting parameters, given certain fc parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fc_params</strong> – the parameters of the finding chart (a dictionnary)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionary of lists.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_instrument_dispatch.get_gaia_image_params">
<code class="descclassname">fcmaker.fcmaker_instrument_dispatch.</code><code class="descname">get_gaia_image_params</code><span class="sig-paren">(</span><em>fc_params</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_instrument_dispatch.get_gaia_image_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the outer search radius for different instruments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fc_params</strong> – the parameters of the finding charts (a dictionary)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the sampling and fwhm to build a fake Gaia image</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">(sampling,fwhm)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_instrument_dispatch.get_inner_GS_search">
<code class="descclassname">fcmaker.fcmaker_instrument_dispatch.</code><code class="descname">get_inner_GS_search</code><span class="sig-paren">(</span><em>fc_params</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_instrument_dispatch.get_inner_GS_search" title="Permalink to this definition">¶</a></dt>
<dd><p>A function to get theinner search radius for Gudie Stars, as a function of the instrument.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fc_params</strong> – the parameters of the finding charts (a dictionary)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the radius value, in arcsec</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">radius (float)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_instrument_dispatch.get_localfcdata">
<code class="descclassname">fcmaker.fcmaker_instrument_dispatch.</code><code class="descname">get_localfcdata</code><span class="sig-paren">(</span><em>inpars</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_instrument_dispatch.get_localfcdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the required info for creating a finding chart from the ob and templates
obtained from a local parameter file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>inpars</strong> – a dictionnary.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a dictionnary containing the OB parameters</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_instrument_dispatch.get_p2fcdata">
<code class="descclassname">fcmaker.fcmaker_instrument_dispatch.</code><code class="descname">get_p2fcdata</code><span class="sig-paren">(</span><em>obID</em>, <em>api</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_instrument_dispatch.get_p2fcdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the required info for creating a finding chart from the ob and templates
obtained via p2api.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>obID</strong> – the OB Id, as an integer.</li>
<li><strong>api</strong> – a p2api.ApiConnection() object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a dictionnary containing the OB parameters</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_instrument_dispatch.get_pmin">
<code class="descclassname">fcmaker.fcmaker_instrument_dispatch.</code><code class="descname">get_pmin</code><span class="sig-paren">(</span><em>survey</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_instrument_dispatch.get_pmin" title="Permalink to this definition">¶</a></dt>
<dd><p>A function to get the pmin value for the aplpy chart, as a function of the instrument.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fc_params</strong> – the parameters of the finding charts (a dictionary)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the pmin value</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">pmin (float)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_instrument_dispatch.get_scalebar">
<code class="descclassname">fcmaker.fcmaker_instrument_dispatch.</code><code class="descname">get_scalebar</code><span class="sig-paren">(</span><em>inst</em>, <em>ins_mode=None</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_instrument_dispatch.get_scalebar" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the scalebar of the chart, as a function of the instrument</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>inst</strong> (<em>string</em>) – the instrument name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">tuple with the scalebar length (in degrees) and label</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">(scl, scll)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_instrument_dispatch.get_target_from_ephem">
<code class="descclassname">fcmaker.fcmaker_instrument_dispatch.</code><code class="descname">get_target_from_ephem</code><span class="sig-paren">(</span><em>fc_params</em>, <em>ephemeris</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_instrument_dispatch.get_target_from_ephem" title="Permalink to this definition">¶</a></dt>
<dd><p>A function to extract the target coordinates and other useful stuff from a PAF
ephemeris file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fc_params</strong> – the parameters of the finding charts (a dictionary)</li>
<li><strong>ephemeris</strong> – the content of a PAF files as a list of strings from readlines()</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the updated parameters of the finding charts (a dictionary)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">fc_params</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_instrument_dispatch.get_total_right_radius">
<code class="descclassname">fcmaker.fcmaker_instrument_dispatch.</code><code class="descname">get_total_right_radius</code><span class="sig-paren">(</span><em>fc_params</em>, <em>right_radius</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_instrument_dispatch.get_total_right_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>A function to compute the total right radius given the offsets within the OB.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fc_params</strong> – dictionnary of OB parameters</li>
<li><strong>right_radius</strong> – default right radius</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">updated right_radius</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">right_radius</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_instrument_dispatch.plot_field">
<code class="descclassname">fcmaker.fcmaker_instrument_dispatch.</code><code class="descname">plot_field</code><span class="sig-paren">(</span><em>ax1</em>, <em>ax2</em>, <em>fc_params</em>, <em>field</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_instrument_dispatch.plot_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Triggers the plotting of a specific field.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ax1</strong><strong>,</strong><strong>ax2</strong> – the left and right plots ‘axis’</li>
<li><strong>fc_params</strong> – the dictionnary of parameters for the OB</li>
<li><strong>field</strong> – the specific field list of parameters</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-fcmaker.fcmaker_metadata">
<span id="fcmaker-fcmaker-metadata-module"></span><h2>fcmaker.fcmaker_metadata module<a class="headerlink" href="#module-fcmaker.fcmaker_metadata" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-fcmaker.fcmaker_muse">
<span id="fcmaker-fcmaker-muse-module"></span><h2>fcmaker.fcmaker_muse module<a class="headerlink" href="#module-fcmaker.fcmaker_muse" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="fcmaker.fcmaker_muse.detector_to_sky">
<code class="descclassname">fcmaker.fcmaker_muse.</code><code class="descname">detector_to_sky</code><span class="sig-paren">(</span><em>dx</em>, <em>dy</em>, <em>pa</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_muse.detector_to_sky" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts MUSE offsets from the DETECTOR reference frame to the SKY reference frame.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dx</strong> (<em>float</em>) – offset in arcsec</li>
<li><strong>dy</strong> (<em>float</em>) – offset in arcsec</li>
<li><strong>pa</strong> (<em>float</em>) – current position angle in degrees measured East-of-North (MUSE convention)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the (dra,ddec) offsets in SKY convention.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple of floats</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">According to the MUSE User manual, “when in DETECTOR framework, if both telescope
offsets and PA offsets are provided, the telescope offsets are sent (first) with
respect to the current PA of the instrument, before applying the PA offset.”</p>
</div>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_muse.get_fields_dict">
<code class="descclassname">fcmaker.fcmaker_muse.</code><code class="descname">get_fields_dict</code><span class="sig-paren">(</span><em>fc_params</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_muse.get_fields_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dictionnary with the basic info required to draw the fields, given
certain OB parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fc_params</strong> – A dictionnary containing the MUSE OB parameters</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionary containing the plotting parameters for each field.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_muse.get_localfcdata_muse">
<code class="descclassname">fcmaker.fcmaker_muse.</code><code class="descname">get_localfcdata_muse</code><span class="sig-paren">(</span><em>fc_params</em>, <em>inpars</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_muse.get_localfcdata_muse" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts all the important info to build a finding chart from a given MUSE OB defined
locally.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>inpars</strong> – A dictionnary containing the OB parameters</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionnary containing the MUSE OB parameters</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_muse.get_p2fcdata_muse">
<code class="descclassname">fcmaker.fcmaker_muse.</code><code class="descname">get_p2fcdata_muse</code><span class="sig-paren">(</span><em>fc_params</em>, <em>ob</em>, <em>api</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_muse.get_p2fcdata_muse" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts all the important info to build a finding chart from a given MUSE OB from p2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ob</strong> – an api.getOB() object</li>
<li><strong>api</strong> – a p2api.ApiConnection() object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dictionnary containing the OB parameters</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_muse.get_polygon">
<code class="descclassname">fcmaker.fcmaker_muse.</code><code class="descname">get_polygon</code><span class="sig-paren">(</span><em>central_coord</em>, <em>pa</em>, <em>mode</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_muse.get_polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the central location and position of a field, build a polygon to feed to
matplotlib down the line.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>central_coord</strong> – an astropy.SkyCoord entry with the center of the MUSE field</li>
<li><strong>pa</strong> – the position angle of the field (p2 convention)</li>
<li><strong>mode</strong> – the instrument mode, either ‘WFM’ or ‘NFM’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of 2-D coordinates for each corner of the field-of-view.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_muse.left_radius">
<code class="descclassname">fcmaker.fcmaker_muse.</code><code class="descname">left_radius</code><span class="sig-paren">(</span><em>ins_mode</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_muse.left_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>A function that sets the defaut size of the left window depending on the mode.</p>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_muse.plot_field">
<code class="descclassname">fcmaker.fcmaker_muse.</code><code class="descname">plot_field</code><span class="sig-paren">(</span><em>ax1</em>, <em>ax2</em>, <em>fc_params</em>, <em>field</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_muse.plot_field" title="Permalink to this definition">¶</a></dt>
<dd><p>The specific MUSE function that draws a specific observation field.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ax1</strong><strong>,</strong><strong>ax2</strong> – the left and right plots ‘axis’</li>
<li><strong>fc_params</strong> – the dictionnary of parameters for the OB</li>
<li><strong>field</strong> – the specific field list of parameters</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-fcmaker.fcmaker_plots">
<span id="fcmaker-fcmaker-plots-module"></span><h2>fcmaker.fcmaker_plots module<a class="headerlink" href="#module-fcmaker.fcmaker_plots" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="fcmaker.fcmaker_plots.add_orient">
<code class="descclassname">fcmaker.fcmaker_plots.</code><code class="descname">add_orient</code><span class="sig-paren">(</span><em>ax</em>, <em>field_center</em>, <em>radius=&lt;Quantity 540.0 arcsec&gt;</em>, <em>arrow_width=&lt;Quantity 120.0 arcsec&gt;</em>, <em>usetex=True</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_plots.add_orient" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot some N-E orientation arrows</p>
<p>Rely on the show_arrow function from aplpy, which should be able to deal with
any image orientation, even is North /= up.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ax</strong> – the aplpy ax instance to add the arrows to</li>
<li><strong>field_center</strong> – a SkyCoord entry marking the central pointing of the chart</li>
<li><strong>radius</strong> – the distance from the field_center to draw the arrows at, in arcsec.</li>
<li><strong>arrow_width</strong> – the arrow size, in arcsec</li>
<li><strong>usetex</strong> – whether a system LaTeX is used, or not</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_plots.draw_fc">
<code class="descclassname">fcmaker.fcmaker_plots.</code><code class="descname">draw_fc</code><span class="sig-paren">(</span><em>fc_params</em>, <em>bk_image=None</em>, <em>bk_lam=None</em>, <em>do_pdf=False</em>, <em>do_png=False</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_plots.draw_fc" title="Permalink to this definition">¶</a></dt>
<dd><p>The finding chart master plotting function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fc_params</strong> – a dictionnary containing the OB parameters</li>
<li><strong>bk_image</strong> – the background image as string, either a SkyView entry, or local filename</li>
<li><strong>bk_lam</strong> – the wavelength of the chart as a string</li>
<li><strong>do_pdf</strong> (<em>bool</em>) – save a pdf file, in addition to jpg</li>
<li><strong>do_png</strong> (<em>bool</em>) – save a png file, in addition to jpg</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The finding chart filename as a string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_plots.get_bk_image">
<code class="descclassname">fcmaker.fcmaker_plots.</code><code class="descname">get_bk_image</code><span class="sig-paren">(</span><em>bk_image</em>, <em>bk_lam</em>, <em>center</em>, <em>radius</em>, <em>fc_params</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_plots.get_bk_image" title="Permalink to this definition">¶</a></dt>
<dd><p>A function that fetches the background image from the web, or locally if specified
by the user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bk_image</strong> – (string) defines whether to use a local image (FITS filename) or a SkyView
image (survey name).</li>
<li><strong>bk_lam</strong> – (string)</li>
<li><strong>center</strong> – a SkyCoord entry defining the center of the image</li>
<li><strong>radius</strong> – the radius of the image … for now, only used when creating a pseudo-Gaia image</li>
<li><strong>fc_params</strong> – the parameters of the finding chart (a dictionary)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The absolute path of the background image (possibly after download), and the survey name.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For local images, the code expect them to be stored in <cite>fcm_m.data_loc</cite> folder.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_plots.get_bk_image_lam">
<code class="descclassname">fcmaker.fcmaker_plots.</code><code class="descname">get_bk_image_lam</code><span class="sig-paren">(</span><em>fn_bk_image</em>, <em>fc_params</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_plots.get_bk_image_lam" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the wavelength of the background image from the header. Assumes SkyView image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fn_bk_image</strong> – path to background image FITS file.
fc_params: the parameters of the finding chart (a dictionnary)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The image wavelength range as a string.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_plots.make_gaia_image">
<code class="descclassname">fcmaker.fcmaker_plots.</code><code class="descname">make_gaia_image</code><span class="sig-paren">(</span><em>skycoord</em>, <em>fov</em>, <em>sampling</em>, <em>fwhm</em>, <em>obsdate=datetime.datetime(2018</em>, <em>7</em>, <em>1</em>, <em>0</em>, <em>0</em>, <em>tzinfo=tzutc())</em>, <em>fn='./pseudo_gaia.fits'</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_plots.make_gaia_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a coordinate, use the Gaia catalogue to create a mock image of the sky.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>skycoord</strong> – the astropy SkyCoord of the center of the image</li>
<li><strong>fov</strong> – size of the image to create, in astropy.units</li>
<li><strong>sampling</strong> – pixel size of the image to create, in astropy.units</li>
<li><strong>fwhm</strong> – fwhm of the fake stars in the image, in astropy.units</li>
<li><strong>obsdate</strong> – date of the observation (to propagate the motion of the stars) as datetime.datetime object</li>
<li><strong>fn</strong> – relative path + FITS filename</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The FITS filename</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-fcmaker.fcmaker_tools">
<span id="fcmaker-fcmaker-tools-module"></span><h2>fcmaker.fcmaker_tools module<a class="headerlink" href="#module-fcmaker.fcmaker_tools" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="fcmaker.fcmaker_tools.blind_offset">
<code class="descclassname">fcmaker.fcmaker_tools.</code><code class="descname">blind_offset</code><span class="sig-paren">(</span><em>coord_start</em>, <em>coord_end</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_tools.blind_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the offsets between two astropy.sky_coordinate.SkyCoord positions.
This function assumes that the sky is flat, and only really makes sense for positions
within 15 arcmin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>coord_start</strong> – a SkyCoord object</li>
<li><strong>coord_end</strong> – a SkyCoord object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The offsets in arcsec</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_tools.crosshair">
<code class="descclassname">fcmaker.fcmaker_tools.</code><code class="descname">crosshair</code><span class="sig-paren">(</span><em>inner_r=1</em>, <em>pa=0</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_tools.crosshair" title="Permalink to this definition">¶</a></dt>
<dd><p>The PATH of acrosshair, useful for indicating targets without crowding the field.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>inner_r</strong> – the (relative) inner radius. Default=1</li>
<li><strong>pa</strong> – the position anglem in degrees</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A mpl.path.Path() object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_tools.myrotmatrix">
<code class="descclassname">fcmaker.fcmaker_tools.</code><code class="descname">myrotmatrix</code><span class="sig-paren">(</span><em>angle</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_tools.myrotmatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines a clockwise rotation matrix given a certain rotation angle. There is probably
a smarter way to do this …</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>angle</strong> – a rotation angle in degree</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a 2D numpy array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_tools.offset_coord">
<code class="descclassname">fcmaker.fcmaker_tools.</code><code class="descname">offset_coord</code><span class="sig-paren">(</span><em>coord_start</em>, <em>delta_ra=&lt;Quantity 0.0 arcsec&gt;</em>, <em>delta_dec=&lt;Quantity 0.0 arcsec&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_tools.offset_coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute a new SkyCoord entity given a starting location and offset. This function
assumes that the sky is flat!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>coord_start</strong> – a SKyCoord object</li>
<li><strong>delta_ra</strong> – an RA offset, in u.arcsec</li>
<li><strong>delta_dec</strong> – an Dec offset, in u.arcsec</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a SkyCoord object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-fcmaker.fcmaker_xshooter">
<span id="fcmaker-fcmaker-xshooter-module"></span><h2>fcmaker.fcmaker_xshooter module<a class="headerlink" href="#module-fcmaker.fcmaker_xshooter" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="fcmaker.fcmaker_xshooter.detector_to_sky">
<code class="descclassname">fcmaker.fcmaker_xshooter.</code><code class="descname">detector_to_sky</code><span class="sig-paren">(</span><em>dx</em>, <em>dy</em>, <em>pa</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_xshooter.detector_to_sky" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts XSHOOTER offsets from the DETECTOR reference frame to the SKY reference frame.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dx</strong> (<em>float</em>) – offset in arcsec</li>
<li><strong>dy</strong> (<em>float</em>) – offset in arcsec</li>
<li><strong>pa</strong> (<em>float</em>) – current position angle in degrees measured East-of-North (XSHOOTER convention)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the (dra,ddec) offsets in SKY convention.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple of floats</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_xshooter.get_fields_dict">
<code class="descclassname">fcmaker.fcmaker_xshooter.</code><code class="descname">get_fields_dict</code><span class="sig-paren">(</span><em>fc_params</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_xshooter.get_fields_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dictionnary with the basic info required to draw the fields, given
certain OB parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fc_params</strong> – A dictionnary containing the MUSE OB parameters</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionary containing the plotting parameters for each field.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_xshooter.get_localfcdata_xshooter">
<code class="descclassname">fcmaker.fcmaker_xshooter.</code><code class="descname">get_localfcdata_xshooter</code><span class="sig-paren">(</span><em>fc_params</em>, <em>inpars</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_xshooter.get_localfcdata_xshooter" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts all the important info to build a finding chart from a given XSHOOTER OB defined
locally.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>inpars</strong> – A dictionnary containing the OB parameters</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionnary containing the MUSE OB parameters</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_xshooter.get_p2fcdata_xshooter">
<code class="descclassname">fcmaker.fcmaker_xshooter.</code><code class="descname">get_p2fcdata_xshooter</code><span class="sig-paren">(</span><em>fc_params</em>, <em>ob</em>, <em>api</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_xshooter.get_p2fcdata_xshooter" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts all the important info to build a finding chart from a given XSHOOTER OB from p2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ob</strong> – an api.getOB() object</li>
<li><strong>api</strong> – a p2api.ApiConnection() object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dictionnary containing the OB parameters</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_xshooter.get_polygon">
<code class="descclassname">fcmaker.fcmaker_xshooter.</code><code class="descname">get_polygon</code><span class="sig-paren">(</span><em>central_coord</em>, <em>pa</em>, <em>fov</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_xshooter.get_polygon" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the central location and position of a field, build a polygon to feed to
matplotlib down the line.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>central_coord</strong> – an astropy.SkyCoord entry with the center of the XSHOOTER field</li>
<li><strong>pa</strong> – the position angle of the field (p2 convention)</li>
<li><strong>fov</strong> – length 2 list, with the size of the Field-of-View (in angular astropy.units)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of 2-D coordinates for each corner of the field-of-view.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="fcmaker.fcmaker_xshooter.plot_field">
<code class="descclassname">fcmaker.fcmaker_xshooter.</code><code class="descname">plot_field</code><span class="sig-paren">(</span><em>ax1</em>, <em>ax2</em>, <em>fc_params</em>, <em>field</em><span class="sig-paren">)</span><a class="headerlink" href="#fcmaker.fcmaker_xshooter.plot_field" title="Permalink to this definition">¶</a></dt>
<dd><p>The specific XSHOOTER function that draws a specific observation field.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ax1</strong><strong>,</strong><strong>ax2</strong> – the left and right plots ‘axis’</li>
<li><strong>fc_params</strong> – the dictionnary of parameters for the OB</li>
<li><strong>field</strong> – the specific field list of parameters</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-fcmaker">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-fcmaker" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../faq.html" class="btn btn-neutral float-right" title="FAQ" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="modules.html" class="btn btn-neutral" title="The functions of fcmaker" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2018, Frédéric P.A. Vogt.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.3.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>